{"version":3,"sources":["app.min.js"],"names":["harvester","require","guard","builder","test","autospawn","module","exports","loop","_name","Game","creeps","creep","memory","role","mustGenerate","active","i","desired","spawns","Spawn1","energy","spawning","create","createCreep","MOVE","WORK","CARRY","ATTACK","carry","carryCapacity","transferEnergy","ERR_NOT_IN_RANGE","moveTo","targets","room","find","FIND_CONSTRUCTION_SITES","length","build","FIND_HOSTILE_CREEPS","attack","flags","Flag1","sources","FIND_SOURCES","harvest","FIND_SOURCES_ACTIVE","createConstructionSite","STRUCTURE_ROAD"],"mappings":"AACA,YAEA,IAAIA,WAAYC,QAAQ,aACpBC,MAAQD,QAAQ,SAChBE,QAAUF,QAAQ,WAClBG,KAAOH,QAAQ,QACfI,UAAYJ,QAAQ,YAExBK,QAAOC,QAAQC,KAAO,WAEpBH,WAEA,KAAK,GAAII,KAASC,MAAKC,OACrB,GAAIF,EAAO,CACT,GAAIG,GAAQF,KAAKC,OAAOF,EAEE,eAAtBG,EAAMC,OAAOC,MACfd,UAAUY,GAGc,YAAtBA,EAAMC,OAAOC,MACfX,QAAQS,GAGgB,UAAtBA,EAAMC,OAAOC,MACfZ,MAAMU,GAGkB,SAAtBA,EAAMC,OAAOC,MACfV,KAAKQ,KAQbN,OAAOC,QAAU,WAmCf,QAASQ,GAAaH,EAAOE,GAC3B,GAAIE,GAAS,CAGb,KAAK,GAAIC,KAAKP,MAAKC,OACbG,IAASJ,KAAKC,OAAOM,GAAGJ,OAAOC,OACjCE,GAAkB,EAGtB,OAAOA,GAASJ,EAAMM,QAzCxB,KAAIR,KAAKS,OAAOC,OAAOC,OAAS,KAASX,KAAKS,OAAOC,OAAOE,UAA5D,CAKA,GAAIX,IACFX,WACEkB,QAAS,EACTK,OAAQ,WACNb,KAAKS,OAAOC,OAAOI,aAAaC,KAAMC,KAAMC,OAAQ,MAAQb,KAAM,gBAGtEX,SACEe,QAAS,EACTK,OAAQ,WACNb,KAAKS,OAAOC,OAAOI,aAAaC,KAAMC,KAAMC,OAAQ,MAAQb,KAAM,cAGtEZ,OACEgB,QAAS,EACTK,OAAQ,WACNb,KAAKS,OAAOC,OAAOI,aAAaC,KAAMC,KAAMC,MAAOC,QAAS,MAAQd,KAAM,YAG9EV,MACEc,QAAS,EACTK,OAAQ,WACNb,KAAKS,OAAOC,OAAOI,aAAaC,KAAMC,KAAMC,OAAQ,MAAQb,KAAM,WAiBxE,KAAK,GAAIA,KAAQH,GACf,GAAII,EAAaJ,EAAOG,GAAOA,IAEzBH,EAAOG,IAAwC,kBAAxBH,GAAOG,GAAMS,OAEtC,WADAZ,GAAOG,GAAMS,WASrBjB,OAAOC,QAAU,SAAUK,GAEzB,GAA2B,IAAvBA,EAAMiB,MAAMR,QAAgBT,EAAMiB,MAAMR,QAAUT,EAAMkB,cACtDpB,KAAKS,OAAOC,OAAOW,eAAenB,KAAWoB,kBAC/CpB,EAAMqB,OAAOvB,KAAKS,OAAOC,YAEtB,CAEL,GAAIc,GAAUtB,EAAMuB,KAAKC,KAAKC,wBAC1BH,GAAQI,QACN1B,EAAM2B,MAAML,EAAQ,MAAQF,kBAC9BpB,EAAMqB,OAAOC,EAAQ,MAQ7B5B,OAAOC,QAAU,SAAUK,GACzB,GAAIsB,GAAUtB,EAAMuB,KAAKC,KAAKI,oBAC1BN,GAAQI,OACN1B,EAAM6B,OAAOP,EAAQ,MAAQF,kBAC/BpB,EAAMqB,OAAOC,EAAQ,IAGnBxB,KAAKgC,MAAMC,OACb/B,EAAMqB,OAAOrB,EAAMuB,KAAKC,KAAK1B,KAAKgC,MAAMC,SAO9CrC,OAAOC,QAAU,SAAUK,GACzB,GAAIA,EAAMiB,MAAMR,OAAST,EAAMkB,cAAe,CAC5C,GAAIc,GAAUhC,EAAMuB,KAAKC,KAAKS,aAC1BjC,GAAMkC,QAAQF,EAAQ,MAAQZ,kBAChCpB,EAAMqB,OAAOW,EAAQ,QAEdhC,GAAMmB,eAAerB,KAAKS,OAAOC,UAAYY,kBACtDpB,EAAMqB,OAAOvB,KAAKS,OAAOC,SAQ7Bd,OAAOC,QAAU,SAAUK,GAGzB,GAAIgC,GAAUhC,EAAMuB,KAAKC,KAAKW,oBAC9BnC,GAAMqB,OAAOW,EAAQ,IACrBhC,EAAMuB,KAAKa,uBAAuBpC,EAAOqC","file":"app.min.js","sourcesContent":["/* global Game */\n'use strict';\n\nvar harvester = require('harvester');\nvar guard = require('guard');\nvar builder = require('builder');\nvar test = require('test');\nvar autospawn = require('autospawn');\n\nmodule.exports.loop = function () {\n\n  autospawn();\n\n  for (var _name in Game.creeps) {\n    if (_name) {\n      var creep = Game.creeps[_name];\n\n      if (creep.memory.role === 'harvester') {\n        harvester(creep);\n      }\n\n      if (creep.memory.role === 'builder') {\n        builder(creep);\n      }\n\n      if (creep.memory.role === 'guard') {\n        guard(creep);\n      }\n\n      if (creep.memory.role === 'test') {\n        test(creep);\n      }\n    }\n  }\n};\n/* global Game, MOVE, WORK, CARRY, ATTACK */\n'use strict';\n\nmodule.exports = function () {\n\n  // only generate if larger than 200 energy\n  if (Game.spawns.Spawn1.energy < 200 || !!Game.spawns.Spawn1.spawning) {\n    return;\n  }\n\n  // Generate these creeps\n  var creeps = {\n    harvester: {\n      desired: 1,\n      create: function create() {\n        Game.spawns.Spawn1.createCreep([MOVE, WORK, CARRY], null, { role: 'harvester' });\n      }\n    },\n    builder: {\n      desired: 2,\n      create: function create() {\n        Game.spawns.Spawn1.createCreep([MOVE, WORK, CARRY], null, { role: 'builder' });\n      }\n    },\n    guard: {\n      desired: 4,\n      create: function create() {\n        Game.spawns.Spawn1.createCreep([MOVE, WORK, CARRY, ATTACK], null, { role: 'guard' });\n      }\n    },\n    test: {\n      desired: 1,\n      create: function create() {\n        Game.spawns.Spawn1.createCreep([MOVE, WORK, CARRY], null, { role: 'test' });\n      }\n    }\n  };\n\n  function mustGenerate(creep, role) {\n    var active = 0;\n\n    // collect roles\n    for (var i in Game.creeps) {\n      if (role === Game.creeps[i].memory.role) {\n        active = active + 1;\n      }\n    }\n    return active < creep.desired;\n  }\n\n  for (var role in creeps) {\n    if (mustGenerate(creeps[role], role)) {\n      void 0;\n      if (creeps[role] && typeof creeps[role].create === 'function') {\n        creeps[role].create();\n        return; // done\n      }\n    }\n  }\n};\n/* global Game, ERR_NOT_IN_RANGE, FIND_CONSTRUCTION_SITES */\n\"use strict\";\n\nmodule.exports = function (creep) {\n  // collect energy\n  if (creep.carry.energy === 0 && creep.carry.energy <= creep.carryCapacity) {\n    if (Game.spawns.Spawn1.transferEnergy(creep) === ERR_NOT_IN_RANGE) {\n      creep.moveTo(Game.spawns.Spawn1);\n    }\n  } else {\n    // build construction\n    var targets = creep.room.find(FIND_CONSTRUCTION_SITES);\n    if (targets.length) {\n      if (creep.build(targets[0]) === ERR_NOT_IN_RANGE) {\n        creep.moveTo(targets[0]);\n      }\n    }\n  }\n};\n/* global Game, FIND_HOSTILE_CREEPS, ERR_NOT_IN_RANGE */\n\"use strict\";\n\nmodule.exports = function (creep) {\n  var targets = creep.room.find(FIND_HOSTILE_CREEPS);\n  if (targets.length) {\n    if (creep.attack(targets[0]) === ERR_NOT_IN_RANGE) {\n      creep.moveTo(targets[0]);\n    }\n  } else {\n    if (Game.flags.Flag1) {\n      creep.moveTo(creep.room.find(Game.flags.Flag1));\n    }\n  }\n};\n/* global Game, ERR_NOT_IN_RANGE, FIND_SOURCES */\n\"use strict\";\n\nmodule.exports = function (creep) {\n  if (creep.carry.energy < creep.carryCapacity) {\n    var sources = creep.room.find(FIND_SOURCES);\n    if (creep.harvest(sources[0]) === ERR_NOT_IN_RANGE) {\n      creep.moveTo(sources[0]);\n    }\n  } else if (creep.transferEnergy(Game.spawns.Spawn1) === ERR_NOT_IN_RANGE) {\n    creep.moveTo(Game.spawns.Spawn1);\n  }\n};\n/* global FIND_SOURCES_ACTIVE, STRUCTURE_ROAD */\n'use strict';\n\n// let builder = require('builder');\n\nmodule.exports = function (creep) {\n\n  // build road to source\n  var sources = creep.room.find(FIND_SOURCES_ACTIVE);\n  creep.moveTo(sources[0]);\n  creep.room.createConstructionSite(creep, STRUCTURE_ROAD);\n};"],"sourceRoot":"/source/"}