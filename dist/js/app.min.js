"use strict";module.exports.loop=function(){if(Game.spawns.Spawn1){var e=!1;e||(Game.spawns.Spawn1.room.createFlag(Game.spawns.Spawn1.pos.x-3,Game.spawns.Spawn1.pos.y+5,"Defenders",COLOR_RED),Game.spawns.Spawn1.room.createFlag(Game.spawns.Spawn1.pos.x-5,Game.spawns.Spawn1.pos.y+5,"Healers",COLOR_GREEN),e=!0),require("autospawn")();for(var r in Game.creeps)if(r){var a=Game.creeps[r];"harvester"===a.memory.role&&require("harvester")(a),"builder"===a.memory.role&&require("builder")(a),"guard"===a.memory.role&&require("guard")(a),"ranger"===a.memory.role&&require("ranger")(a),"healer"===a.memory.role&&require("healer")(a),"test"===a.memory.role&&require("test")(a)}}},module.exports=function(){function e(e,r){var a=0;for(var n in Game.creeps)r===Game.creeps[n].memory.role&&(a+=1);return e>a}function r(e){if(Game.spawns.Spawn1.canCreateCreep(a[e].body)===OK){Game.spawns.Spawn1.createCreep(a[e].body,"creep."+e+"."+Game.time,{role:e})}}if(!(Game.spawns.Spawn1.energy<200||Game.spawns.Spawn1.spawning)){var a={harvester:{min:2,max:5,body:[MOVE,WORK,CARRY,CARRY]},guard:{min:2,max:6,body:[MOVE,WORK,CARRY,ATTACK]},healer:{min:2,max:4,body:[MOVE,HEAL]},ranger:{min:2,max:6,body:[MOVE,RANGED_ATTACK]},builder:{min:1,max:2,body:[MOVE,WORK,CARRY]},test:{min:0,max:1,body:[MOVE,WORK,CARRY,CARRY]}};for(var n in a)if(a[n]&&e(a[n].min,n))return void r(n);if(Game.spawns.Spawn1.energyCapacity===Game.spawns.Spawn1.energy)for(var n in a)if(a[n]&&e(a[n].max,n))return void r(n)}},module.exports=function(e){var r=void 0,a=(new Date).getTime(),n=function(){return e.carry.energy===e.carryCapacity},o=function(e){(new Date).getTime()-a};if(e.memory.activeSourceID)r=Game.getObjectById(e.memory.activeSourceID);else{var s=e.pos.findClosestByRange(FIND_SOURCES_ACTIVE);s&&(e.memory.activeSourceID=s.id,r=s)}return n()||e.carry.energy&&e.pos.isNearTo(Game.spawns.Spawn1)?(e.transferEnergy(Game.spawns.Spawn1)===ERR_NOT_IN_RANGE&&e.moveTo(Game.spawns.Spawn1),void o("transferEnergy")):r&&!n()?(e.harvest(r)===ERR_NOT_IN_RANGE&&e.moveTo(r),void o("harvest")):void o("idle")},module.exports=function(e){if(!(Game.spawns.Spawn1.energy<=275||Game.spawns.Spawn1.spawning)||0!==e.carry.energy){if(0===e.carry.energy)return void(e.carry.energy<=e.carryCapacity&&Game.spawns.Spawn1.transferEnergy(e)===ERR_NOT_IN_RANGE&&e.moveTo(Game.spawns.Spawn1));var r=e.room.find(FIND_CONSTRUCTION_SITES);return r.length?void(e.build(r[0])===ERR_NOT_IN_RANGE&&e.moveTo(r[0])):e.room.controller?void(e.upgradeController(e.room.controller)===ERR_NOT_IN_RANGE&&(e.room.createConstructionSite(e,STRUCTURE_ROAD),e.moveTo(e.room.controller))):void 0}},module.exports=function(e){var r=function(){return e.carry.energy&&e.carry.energy===e.carryCapacity},a=e.pos.findInRange(FIND_HOSTILE_CREEPS,10);if(a.length){var n=e.pos.findClosestByRange(a);return void(e.attack(n)===ERR_NOT_IN_RANGE&&e.moveTo(n))}if(!r()){var o=e.pos.findClosestByRange(FIND_DROPPED_ENERGY);if(o)return void(e.pickup(o)===ERR_NOT_IN_RANGE&&e.moveTo(o))}return e.carry.energy>0?void(e.transferEnergy(Game.spawns.Spawn1)===ERR_NOT_IN_RANGE&&e.moveTo(Game.spawns.Spawn1)):void(e.hits<e.hitsMax||Game.flags.Defenders&&e.moveTo(Game.flags.Defenders))},module.exports=function(e){var r=e.room.find(FIND_SOURCES_ACTIVE);e.moveTo(r[0]),e.room.createConstructionSite(e,STRUCTURE_ROAD)},module.exports=function(e){var r=e.pos.findInRange(FIND_HOSTILE_CREEPS,10);if(r.length){var a=e.pos.findClosestByRange(r);e.rangedAttack(a)===ERR_NOT_IN_RANGE&&e.moveTo(a)}else Game.flags.Defenders&&e.moveTo(Game.flags.Defenders)},module.exports=function(e){function r(e){return e.hits<e.hitsMax}var a=e.room.find(FIND_MY_CREEPS);for(var n in a)if(r(a[n]))return void(e.heal(a[n])===ERR_NOT_IN_RANGE&&e.moveTo(a[n]));Game.flags.Healers&&e.moveTo(Game.flags.Healers)};
//# sourceMappingURL=app.min.js.map
