"use strict";var harvester=require("harvester"),guard=require("guard"),ranger=require("ranger"),builder=require("builder"),healer=require("healer"),test=require("test"),autospawn=require("autospawn");module.exports.loop=function(){autospawn();for(var e in Game.creeps)if(e){var r=Game.creeps[e];"harvester"===r.memory.role&&harvester(r),"builder"===r.memory.role&&builder(r),"guard"===r.memory.role&&guard(r),"ranger"===r.memory.role&&ranger(r),"healer"===r.memory.role&&healer(r),"test"===r.memory.role&&test(r)}},module.exports=function(){function e(e,r){var a=0;for(var n in Game.creeps)r===Game.creeps[n].memory.role&&(a+=1);return e>a}function r(e){"function"==typeof a[e].create&&a[e].create()}if(!(Game.spawns.Spawn1.energy<200||Game.spawns.Spawn1.spawning)){var a={harvester:{desired:4,max:6,create:function(){return Game.spawns.Spawn1.canCreateCreep([MOVE,WORK,CARRY])===OK?Game.spawns.Spawn1.createCreep([MOVE,WORK,CARRY],null,{role:"harvester"}):void 0}},builder:{desired:2,max:2,create:function(){return Game.spawns.Spawn1.canCreateCreep([MOVE,WORK,CARRY])===OK?Game.spawns.Spawn1.createCreep([MOVE,WORK,CARRY],null,{role:"builder"}):void 0}},guard:{desired:6,max:12,create:function(){return Game.spawns.Spawn1.canCreateCreep([MOVE,WORK,CARRY,ATTACK])===OK?Game.spawns.Spawn1.createCreep([MOVE,WORK,CARRY,ATTACK],null,{role:"guard"}):void 0}},ranger:{desired:4,max:6,create:function(){return Game.spawns.Spawn1.canCreateCreep([MOVE,RANGED_ATTACK])===OK?Game.spawns.Spawn1.createCreep([MOVE,WORK,CARRY,RANGED_ATTACK],null,{role:"ranger"}):void 0}},healer:{desired:2,max:4,create:function(){return Game.spawns.Spawn1.canCreateCreep([MOVE,HEAL])===OK?Game.spawns.Spawn1.createCreep([MOVE,HEAL],null,{role:"ranger"}):void 0}},test:{desired:0,max:1,create:function(){return Game.spawns.Spawn1.canCreateCreep([MOVE,WORK,CARRY])===OK?Game.spawns.Spawn1.createCreep([MOVE,WORK,CARRY],null,{role:"test"}):void 0}}};for(var n in a)if(a[n]&&e(a[n].desired,n)&&"function"==typeof a[n].create)return void r(n);if(Game.spawns.Spawn1.energyCapacity===Game.spawns.Spawn1.energy)for(var n in a)if(a[n]&&e(a[n].max,n))return void r(n)}},module.exports=function(e){if(e.carry.energy<e.carryCapacity){var r=e.room.find(FIND_SOURCES);e.harvest(r[0])===ERR_NOT_IN_RANGE&&e.moveTo(r[0])}else e.transferEnergy(Game.spawns.Spawn1)===ERR_NOT_IN_RANGE&&e.moveTo(Game.spawns.Spawn1)},module.exports=function(e){if(!(Game.spawns.Spawn1.energy<=275||Game.spawns.Spawn1.spawning)||0!==e.carry.energy){if(0===e.carry.energy)return void(e.carry.energy<=e.carryCapacity&&Game.spawns.Spawn1.transferEnergy(e)===ERR_NOT_IN_RANGE&&(e.say("gather resources"),e.moveTo(Game.spawns.Spawn1)));var r=e.room.find(FIND_CONSTRUCTION_SITES);return r.length?(e.say("building"),void(e.build(r[0])===ERR_NOT_IN_RANGE&&e.moveTo(r[0]))):e.room.controller?(e.say("upgrade controller"),void(e.upgradeController(e.room.controller)===ERR_NOT_IN_RANGE&&(e.room.createConstructionSite(e,STRUCTURE_ROAD),e.moveTo(e.room.controller)))):void 0}},module.exports=function(e){var r=e.pos.findInRange(FIND_HOSTILE_CREEPS,15);r.length?e.attack(r[0])===ERR_NOT_IN_RANGE&&e.moveTo(r[0]):Game.flags.Flag1&&e.moveTo(Game.flags.Flag1)},module.exports=function(e){var r=e.room.find(FIND_SOURCES_ACTIVE);e.moveTo(r[0]),e.room.createConstructionSite(e,STRUCTURE_ROAD)};var guard=require("guard");module.exports=function(e){guard(e)},module.exports=function(e){function r(e){return e.hits<e.maxHits}var a=e.room.find(FIND_MY_CREEPS);for(var n in a)if(r(a[n]))return void(e.heal(a[n])===ERR_NOT_IN_RANGE&&e.moveTo(a[n]));Game.flags.Flag2&&e.moveTo(Game.flags.Flag2)};
//# sourceMappingURL=app.min.js.map
