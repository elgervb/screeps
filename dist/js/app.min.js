"use strict";var harvester=require("harvester"),guard=require("guard"),builder=require("builder"),test=require("test"),autospawn=require("autospawn");module.exports.loop=function(){autospawn();for(var e in Game.creeps)if(e){var r=Game.creeps[e];"harvester"===r.memory.role&&harvester(r),"builder"===r.memory.role&&builder(r),"guard"===r.memory.role&&guard(r),"test"===r.memory.role&&test(r)}},module.exports=function(){function e(e,r){var a=0;for(var n in Game.creeps)r===Game.creeps[n].memory.role&&(a+=1);return e>a}function r(e){"function"==typeof a[e].create&&a[e].create()}if(!(Game.spawns.Spawn1.energy<200||Game.spawns.Spawn1.spawning)){var a={harvester:{desired:4,max:4,create:function(){Game.spawns.Spawn1.createCreep([MOVE,WORK,CARRY],null,{role:"harvester"})}},builder:{desired:2,max:2,create:function(){Game.spawns.Spawn1.createCreep([MOVE,WORK,CARRY],null,{role:"builder"})}},guard:{desired:10,max:12,create:function(){Game.spawns.Spawn1.createCreep([MOVE,WORK,CARRY,ATTACK],null,{role:"guard"})}},test:{desired:0,max:1,create:function(){Game.spawns.Spawn1.createCreep([MOVE,WORK,CARRY],null,{role:"test"})}}};for(var n in a)if(a[n]&&e(a[n].desired,n)&&"function"==typeof a[n].create)return void r(n);if(Game.spawns.Spawn1.energyCapacity===Game.spawns.Spawn1.energy)for(var n in a)if(a[n]&&e(a[n].max,n))return void r(n)}},module.exports=function(e){if(!(Game.spawns.Spawn1.energy<=275||Game.spawns.Spawn1.spawning)||0!==e.carry.energy){if(0===e.carry.energy)return void(e.carry.energy<=e.carryCapacity&&Game.spawns.Spawn1.transferEnergy(e)===ERR_NOT_IN_RANGE&&(e.say("gather resources"),e.moveTo(Game.spawns.Spawn1)));var r=e.room.find(FIND_CONSTRUCTION_SITES);return r.length?(e.say("building"),void(e.build(r[0])===ERR_NOT_IN_RANGE&&e.moveTo(r[0]))):e.room.controller?(e.say("upgrade controller"),void(e.upgradeController(e.room.controller)===ERR_NOT_IN_RANGE&&(e.room.createConstructionSite(e,STRUCTURE_ROAD),e.moveTo(e.room.controller)))):void 0}},module.exports=function(e){var r=e.pos.findInRange(FIND_HOSTILE_CREEPS,15);r.length?e.attack(r[0])===ERR_NOT_IN_RANGE&&e.moveTo(r[0]):Game.flags.Flag1&&e.moveTo(Game.flags.Flag1)},module.exports=function(e){if(e.carry.energy<e.carryCapacity){var r=e.room.find(FIND_SOURCES);e.harvest(r[0])===ERR_NOT_IN_RANGE&&e.moveTo(r[0])}else e.transferEnergy(Game.spawns.Spawn1)===ERR_NOT_IN_RANGE&&e.moveTo(Game.spawns.Spawn1)},module.exports=function(e){var r=e.room.find(FIND_SOURCES_ACTIVE);e.moveTo(r[0]),e.room.createConstructionSite(e,STRUCTURE_ROAD)};
//# sourceMappingURL=app.min.js.map
